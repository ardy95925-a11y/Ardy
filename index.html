<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tower Front Official Wiki</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-main: #1a1a1a;
            --bg-sidebar: #121212;
            --bg-card: #252525;
            --accent: #ff6b00; 
            --text-primary: #ffffff;
            --text-secondary: #aaaaaa;
            --border: #333333;
            --wiki-link: #4daafc;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-main); color: var(--text-primary); line-height: 1.6; display: flex; flex-direction: column; height: 100vh; }

        /* Navigation */
        .top-nav { height: 60px; background: #000; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; border-bottom: 2px solid var(--accent); position: sticky; top: 0; z-index: 1000; }
        .logo { font-weight: 800; cursor: pointer; }
        .logo span { color: var(--accent); }
        
        .search-container { position: relative; }
        #wikiSearch { background: #222; border: 1px solid var(--border); padding: 8px 15px; border-radius: 4px; color: white; width: 300px; outline: none; }
        #searchResults { position: absolute; top: 100%; left: 0; right: 0; background: var(--bg-card); border: 1px solid var(--border); display: none; max-height: 200px; overflow-y: auto; z-index: 10; }
        .search-item { padding: 10px; cursor: pointer; border-bottom: 1px solid var(--border); }
        .search-item:hover { background: #333; color: var(--accent); }

        /* Layout */
        .wiki-wrapper { display: flex; flex: 1; overflow: hidden; max-width: 1600px; margin: 0 auto; width: 100%; }

        .sidebar { width: 260px; background: var(--bg-sidebar); padding: 20px; border-right: 1px solid var(--border); overflow-y: auto; }
        .sidebar-section h3 { font-size: 0.7rem; color: var(--accent); text-transform: uppercase; margin: 20px 0 10px; letter-spacing: 1px; }
        .sidebar ul { list-style: none; }
        .sidebar li { margin-bottom: 5px; }
        .sidebar a { text-decoration: none; color: var(--text-secondary); font-size: 0.9rem; transition: 0.2s; cursor: pointer; }
        .sidebar a:hover { color: var(--wiki-link); padding-left: 5px; }
        .sidebar a.active { color: var(--accent); font-weight: bold; }

        .content { flex: 1; padding: 40px; overflow-y: auto; background: var(--bg-main); }
        .breadcrumbs { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 10px; }
        .page-header h1 { font-size: 2.5rem; margin-bottom: 5px; }
        hr { border: 0; border-top: 1px solid var(--border); margin-bottom: 20px; }

        /* Wiki Elements */
        .infobox { float: right; width: 300px; background: var(--bg-card); border: 1px solid var(--border); margin: 0 0 20px 20px; padding: 10px; }
        .infobox-title { text-align: center; font-weight: bold; background: var(--accent); color: black; padding: 5px; margin: -10px -10px 10px -10px; }
        .infobox-img { width: 100%; height: 150px; background: #333; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; font-weight: bold; color: #555; }
        .infobox table { width: 100%; font-size: 0.85rem; border-collapse: collapse; }
        .infobox td { padding: 5px; border-bottom: 1px solid #333; }
        .infobox td:first-child { font-weight: bold; color: var(--text-secondary); }

        .data-table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.9rem; }
        .data-table th { background: #333; color: var(--accent); text-align: left; padding: 12px; }
        .data-table td { padding: 12px; border: 1px solid var(--border); }
        .data-table tr:nth-child(even) { background: #222; }

        .category-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 20px; }
        .category-card { background: var(--bg-card); padding: 20px; border: 1px solid var(--border); text-align: center; cursor: pointer; transition: 0.3s; }
        .category-card:hover { border-color: var(--accent); transform: translateY(-3px); }

        @media (max-width: 800px) {
            .sidebar { display: none; }
            .infobox { float: none; width: 100%; margin: 20px 0; }
            #wikiSearch { width: 150px; }
        }
    </style>
</head>
<body>

    <nav class="top-nav">
        <div class="logo" onclick="loadPage('home')">TOWER<span>FRONT</span> WIKI</div>
        <div class="search-container">
            <input type="text" id="wikiSearch" placeholder="Search the front..." onkeyup="handleSearch(this.value)">
            <div id="searchResults"></div>
        </div>
    </nav>

    <div class="wiki-wrapper">
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>Navigation</h3>
                <ul>
                    <li><a onclick="loadPage('home')">Main Page</a></li>
                    <li><a onclick="loadPage('towers')">Towers List</a></li>
                    <li><a onclick="loadPage('enemies')">Enemy Database</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <h3>Towers</h3>
                <ul id="sidebar-towers"></ul>
            </div>
            <div class="sidebar-section">
                <h3>Enemies</h3>
                <ul id="sidebar-enemies"></ul>
            </div>
        </aside>

        <main class="content" id="main-content">
            <!-- Content Injected by JS -->
        </main>
    </div>

    <script>
        /* --- DATABASE: Add your game info here --- */
        const wikiData = {
            home: {
                title: "Welcome to Tower Front Wiki",
                content: `
                    <p>This is the official intelligence database for the <strong>Tower Front</strong> conflict. Access tactical data on defensive units and enemy threats.</p>
                    <div class="category-grid">
                        <div class="category-card" onclick="loadPage('towers')">üõ°Ô∏è<br>Towers</div>
                        <div class="category-card" onclick="loadPage('enemies')">üíÄ<br>Enemies</div>
                        <div class="category-card" onclick="loadPage('operator')">üÜï<br>New Unit: Operator</div>
                    </div>
                `
            },
            towers: {
                title: "Defensive Towers",
                content: `
                    <p>Towers are your primary defense against the encroaching waves. Each unit has specific strengths.</p>
                    <table class="data-table">
                        <tr><th>Unit</th><th>Type</th><th>Primary Use</th></tr>
                        <tr onclick="loadPage('operator')" style="cursor:pointer"><td>Operator</td><td>SMG / Stealth</td><td>Rapid fire & Detection</td></tr>
                        <tr><td>Hunter</td><td>Sniper</td><td>Extreme Range</td></tr>
                        <tr><td>Juggernaut</td><td>Heavy</td><td>Area Damage</td></tr>
                    </table>
                `
            },
            enemies: {
                title: "Enemy Database",
                content: `
                    <p>Current known threats identified in the sector.</p>
                    <table class="data-table">
                        <tr><th>Threat</th><th>Class</th><th>Weakness</th></tr>
                        <tr onclick="loadPage('venitant')" style="cursor:pointer"><td>Venitant</td><td>Shield Breaker</td><td>Rapid Fire</td></tr>
                        <tr><td>Trojan Horse</td><td>Spawner</td><td>High Burst Damage</td></tr>
                    </table>
                `
            },
            operator: {
                title: "Operator",
                isUnit: true,
                type: "Tower",
                stats: { cost: "$450", rarity: "Rare", damage: "5", range: "Short" },
                description: "The Operator is a specialized tactical unit. It uses high-speed SMG fire to shred light armor and can detect cloaked enemies before they reach the frontline.",
                levels: [
                    { lvl: 1, cost: "-", effect: "Standard SMG fire" },
                    { lvl: 2, cost: "$200", effect: "+15% Fire rate" },
                    { lvl: 3, cost: "$550", effect: "Unlocked: Stealth Detection" }
                ]
            },
            venitant: {
                title: "Venitant",
                isUnit: true,
                type: "Enemy",
                stats: { health: "1,200", speed: "Fast", threat: "High" },
                description: "The Venitant is a terrifying shield-breaker. It ignores the first 3 layers of energy shielding, making it a priority target for ground units.",
                levels: [
                    { lvl: "A", cost: "Normal", effect: "Standard spawn" },
                    { lvl: "B", cost: "Enraged", effect: "Spawns with 50% extra speed" }
                ]
            }
        };

        /* --- LOGIC: The Engine that runs the wiki --- */

        // 1. Initial Load
        window.onload = () => {
            loadPage('home');
            renderSidebars();
        };

        // 2. Page Router
        function loadPage(id) {
            const page = wikiData[id];
            const container = document.getElementById('main-content');
            
            // Highlight active link in sidebar
            document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
            
            if (!page) {
                container.innerHTML = `<h1>404 Page Not Found</h1>`;
                return;
            }

            if (page.isUnit) {
                // Render a Unit Page (Tower or Enemy)
                container.innerHTML = `
                    <nav class="breadcrumbs">Home / ${page.type}s / ${page.title}</nav>
                    <div class="page-header"><h1>${page.title}</h1><hr></div>
                    <aside class="infobox">
                        <div class="infobox-title">${page.title}</div>
                        <div class="infobox-img">NO_IMAGE</div>
                        <table>
                            ${Object.entries(page.stats).map(([key, val]) => `<tr><td>${key.toUpperCase()}</td><td>${val}</td></tr>`).join('')}
                        </table>
                    </aside>
                    <p>${page.description}</p>
                    <h2>Unit Capabilities</h2>
                    <table class="data-table">
                        <thead><tr><th>Level</th><th>Cost/State</th><th>Effect</th></tr></thead>
                        <tbody>
                            ${page.levels.map(l => `<tr><td>${l.lvl}</td><td>${l.cost}</td><td>${l.effect}</td></tr>`).join('')}
                        </tbody>
                    </table>
                `;
            } else {
                // Render a Standard Content Page
                container.innerHTML = `
                    <div class="page-header"><h1>${page.title}</h1><hr></div>
                    ${page.content}
                `;
            }
            container.scrollTop = 0;
            document.getElementById('searchResults').style.display = 'none';
            document.getElementById('wikiSearch').value = '';
        }

        // 3. Search System
        function handleSearch(query) {
            const resultsDiv = document.getElementById('searchResults');
            if (query.length < 1) {
                resultsDiv.style.display = 'none';
                return;
            }

            const matches = Object.keys(wikiData).filter(key => 
                wikiData[key].title.toLowerCase().includes(query.toLowerCase())
            );

            if (matches.length > 0) {
                resultsDiv.style.display = 'block';
                resultsDiv.innerHTML = matches.map(m => `
                    <div class="search-item" onclick="loadPage('${m}')">${wikiData[m].title}</div>
                `).join('');
            } else {
                resultsDiv.style.display = 'none';
            }
        }

        // 4. Sidebar Dynamic Generation
        function renderSidebars() {
            const towerList = document.getElementById('sidebar-towers');
            const enemyList = document.getElementById('sidebar-enemies');

            Object.keys(wikiData).forEach(key => {
                const item = wikiData[key];
                if (item.type === "Tower") {
                    towerList.innerHTML += `<li><a onclick="loadPage('${key}')">${item.title}</a></li>`;
                } else if (item.type === "Enemy") {
                    enemyList.innerHTML += `<li><a onclick="loadPage('${key}')">${item.title}</a></li>`;
                }
            });
        }
    </script>
</body>
</html>
